{% extends "learn/layout.html" %}
{% load static %}

{% block title %}Data Visualization{% endblock %}

{% block body %}
<div>
  <h1 class="chapter-title">Data Visualization with Matplotlib</h1>
  <div class="chapter-content">
    <p>
      <span>Matplotlib</span> is a foundational plotting library in Python that provides comprehensive tools for creating static, animated, and interactive visualizations. It is highly customizable and integrates seamlessly with NumPy for numerical data manipulation. The core functionality of Matplotlib lies in its <code>pyplot</code> module, typically imported as <code>plt</code>.
    </p>

    <h2 class="chapter-subheading">Basic Plotting</h2>
    <div class="mt-4">
      <span class="dark">Plotting Lines:</span> Create simple line plots with customizations.
      <div class="code-block">
        <pre><code class="language-python">import matplotlib.pyplot as plt

# Data
x = [1, 2, 3, 4, 5]
y = [1, 4, 9, 16, 25]

# Line plot with customization
plt.plot(x, y, color='g', linestyle='--', linewidth=3, marker='x', markersize=15, label='My Line')

# Title and labels
plt.title("Plotting Lines")
plt.xlabel("X Axis")
plt.ylabel("Y Axis")

# Add legend
plt.legend()
plt.show()</code></pre>
      </div>
      <div class="img-div">
        <img src="{% static 'learn/img/plot_lines.png' %}" alt="Line Plot" style="width:400px;">
        <span class="caption">Line Plot</span>
      </div>
    </div>

    <h2 class="chapter-subheading">Trigonometric Functions</h2>
    <div class="mt-4">
      <span class="dark">Sine and Cosine Waves:</span> Plot trigonometric functions.
      <div class="code-block">
        <pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt

# Generate data
x = np.linspace(-np.pi, np.pi, 100)
y1 = np.sin(x)
y2 = np.cos(x)

# Plot
plt.plot(x, y1, label='Sine', color='blue')
plt.plot(x, y2, label='Cosine', color='green')

plt.title("Sine and Cosine")
plt.legend()
plt.show()</code></pre>
      </div>
      <div class="img-div">
        <img src="{% static 'learn/img/sine_cosine.png' %}" alt="Sine and Cosine Waves" style="width:400px;">
        <span class="caption">Sine and Cosine Waves</span>
      </div>
    </div>

    <h2 class="chapter-subheading">Subplots</h2>
    <div class="mt-4">
      <span class="dark">Multiple Plots in a Single Figure:</span> Create subplots to visualize multiple datasets.
      <div class="code-block">
        <pre><code class="language-python">plt.figure()

# First subplot
plt.subplot(2, 1, 1)
plt.plot(x, y1)
plt.title("Sine Wave")

# Second subplot
plt.subplot(2, 1, 2)
plt.plot(x, y2)
plt.title("Cosine Wave")

plt.tight_layout()
plt.show()</code></pre>
      </div>
      <div class="img-div">
        <img src="{% static 'learn/img/subplots.png' %}" alt="Subplots" style="width:400px;">
        <span class="caption">Subplots</span>
      </div>
    </div>

    <h2 class="chapter-subheading">Other Visualizations</h2>
    <div class="mt-4">
      <span class="dark">Bar Charts:</span> Represent data with rectangular bars.
      <div class="code-block">
        <pre><code class="language-python">x = np.arange(1, 6)
y = np.random.randint(1, 50, 5)

plt.bar(x, y, color='purple')
plt.title("Bar Chart")
plt.xlabel("X Axis")
plt.ylabel("Values")
plt.show()</code></pre>
      </div>
      <div class="img-div">
        <img src="{% static 'learn/img/bar_chart.png' %}" alt="Bar Chart" style="width:400px;">
        <span class="caption">Bar Chart</span>
      </div>
    </div>

    <div class="mt-4">
      <span class="dark">Pie Charts:</span> Visualize proportions in a dataset.
      <div class="code-block">
        <pre><code class="language-python">x = [4, 4, 2]
colors = ['red', 'blue', 'orange']
labels = ['A', 'B', 'C']

plt.pie(x, colors=colors, labels=labels, explode=(0, 0, 0.1), startangle=90)
plt.title("Pie Chart")
plt.show()</code></pre>
      </div>
      <div class="img-div">
        <img src="{% static 'learn/img/pie_chart.png' %}" alt="Pie Chart" style="width:400px;">
        <span class="caption">Pie Chart</span>
      </div>
    </div>

    <div class="mt-4">
      <span class="dark">Scatter Plots:</span> Plot points to identify relationships between two variables.
      <div class="code-block">
        <pre><code class="language-python">x = np.random.normal(0, 1, 100)
y = np.random.normal(1, 10, 100)

plt.scatter(x, y, color='green', marker='o')
plt.title("Scatter Plot")
plt.xlabel("X Axis")
plt.ylabel("Y Axis")
plt.show()</code></pre>
      </div>
      <div class="img-div">
        <img src="{% static 'learn/img/scatter_plot.png' %}" alt="Scatter Plot" style="width:400px;">
        <span class="caption">Scatter Plot</span>
      </div>
    </div>
    <h2 class="chapter-subheading">Advanced</h2>
    <div class="mt-4">
      <span class="dark">Support Vector Machine (SVM):</span> Visualize the decision boundary and support vectors.
      <div class="code-block">
        <pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt
from sklearn import datasets
from sklearn.svm import SVC

# Generate dataset
X, y = datasets.make_blobs(n_samples=100, centers=2, random_state=6)
y = 2 * y - 1  # Convert labels to -1, 1 for visualization

# Train an SVM classifier
svm_model = SVC(kernel='linear')
svm_model.fit(X, y)

# Get the coefficients and intercept
w = svm_model.coef_[0]
b = svm_model.intercept_[0]

# Decision boundary
x_values = np.linspace(X[:, 0].min() - 1, X[:, 0].max() + 1, 100)
decision_boundary = -(w[0] / w[1]) * x_values - b / w[1]

# Margins
margin = 1 / np.sqrt(np.sum(svm_model.coef_ ** 2))
margin_upper = decision_boundary + margin
margin_lower = decision_boundary - margin

# Plot
plt.scatter(X[:, 0], X[:, 1], c=y, cmap='coolwarm', s=30, edgecolors='k', label="Training Points")
plt.plot(x_values, decision_boundary, 'k-', label='Decision Boundary')
plt.plot(x_values, margin_upper, 'k--', label='Margin Upper')
plt.plot(x_values, margin_lower, 'k--', label='Margin Lower')
plt.scatter(svm_model.support_vectors_[:, 0], svm_model.support_vectors_[:, 1], s=100, facecolors='none', edgecolors='k', label='Support Vectors')

plt.title("SVM Decision Boundary")
plt.xlabel("Feature 1")
plt.ylabel("Feature 2")
plt.legend()
plt.show()</code></pre>
      </div>
      <div class="img-div">
        <img src="{% static 'learn/img/svm_decision_boundary.png' %}" alt="SVM Decision Boundary" style="width:500px;">
        <span class="caption">SVM Decision Boundary Visualization</span>
      </div>
    </div>

  </div>


  <div class="content-links d-flex justify-content-between">
    <a href="{% url 'chapter' 'pandas' %}" class="content-link">
      <button class="btn btn-dark">
        Previous
      </button>
    </a>
    <a href="{% url 'chapter' 'knn' %}" class="content-link">
      <button class="btn btn-primary">
        Next
      </button>
    </a>
  </div>
  <div class="other-links">
    <div class="hline"></div>
    <ul>
        <li><a href="{% url 'chapter' 'numpy' %}">NumPy Basics</a></li>
      <li><a href="{% url 'chapter' 'pandas' %}">Pandas Basics</a></li>
    </ul>
  </div>
</div>
{% endblock %}
