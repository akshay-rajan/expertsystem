{% extends "main/layout.html" %}
{% load static %}

{% block title %}Results{% endblock %}

{% block body %}
<div class="fade-in">
  <h1 class="display-3 title">Results</h1>
  
  <div id="results">
    <div class="evaluation">
      <h3 class="m-2">Evaluation Metrics</h3>
      <table class="table table-bordered table-hover">
        <tbody>
          <tr>
            <th>Accuracy</th>
            <td class="
              {% if metrics.accuracy < 0.3 %}
                table-danger
                {% elif metrics.accuracy < 0.7 %}
                table-warning
                {% else %}
                table-success
              {% endif %}
              ">{{ metrics.accuracy }}</td>
          </tr>
          <tr>
            <th>Precision</th>
            <td class="
              {% if metrics.precision < 0.3 %}
                table-danger
                {% elif metrics.precision < 0.7 %}
                table-warning
                {% else %}
                table-success
              {% endif %}
              ">{{ metrics.precision }}</td>
          </tr>
          <tr>
            <th>Recall</th>
            <td class="
              {% if metrics.recall < 0.3 %}
                table-danger
                {% elif metrics.recall < 0.7 %}
                table-warning
                {% else %}
                table-success
              {% endif %}
              ">{{ metrics.recall }}</td>
          </tr>
          <tr>
            <th>F1 Score</th>
            <td class="
              {% if metrics.f1 < 0.3 %}
                table-danger
                {% elif metrics.f1 < 0.7 %}
                table-warning
                {% else %}
                table-success
              {% endif %}
              ">{{ metrics.f1 }}</td>
          </tr>
        </tbody>
      </table>
      <div>
        {{ metrics.report }}
      </div>

      <div class="visual">
        <img src="{{ plot }}" class="img-fluid" alt="Plot">
      </div>

      <div class="d-flex justify-content-end mt-4 mb-4">
        <a href="{{ download }}" class="link">
          <button class="btn btn-info btn-block">
            Download Trained Model
          </button>
        </a>
      </div>
    </div>
    <div class="table-responsive">
      <table class="table table-bordered table-info">
        <thead class="thead">
            <th>Actual Values</th>
            {% for value in actual %}
              <td>{{ value }}</td>
            {% endfor %}
        </thead>
        <tbody>
          <tr>
            <th>Predicted Values</th>
            {% for value in predicted %}
              <td>{{ value }}</td>
            {% endfor %}
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}

{% block footer %}
{% endblock %}
